# Asymmetric Effects of Cold and Heat on Consumer Behavior

## Downloading Data

All data files are archived at Zenodo with DOI: **10.5281/zenodo.XXXXXXX**

Download directly:
```bash
wget https://zenodo.org/records/XXXXXXX/files/heat_cold_data.tar.gz
tar -xzf heat_cold_data.tar.gz
```

## Overview

This repository contains code and analysis for investigating the asymmetric impacts of extreme cold and heat events on consumer behavior across the United States. Our research reveals that extreme cold events produce substantially larger effects on mobility and spending patterns compared to heat events.

**Publication**: [Insert citation to Nature Computational Science paper]

## Key Findings

- **8.5-fold asymmetry**: Cold events produce 8.5× greater mobility impacts compared to equivalent heat events
- **Behavioral mechanisms**: Documented differential responses in footfall and consumer spending
- **Spatial heterogeneity**: Effects vary significantly by geographic region and local climate
- **Policy implications**: Cold events warrant distinct consideration in emergency planning and economic modeling

## Repository Structure

```
├── README.md                          # This file
├── requirements.txt                   # Python dependencies
├── helper_functions.py               # Core analysis functions
├── figures.ipynb                     # Main analysis and visualization notebook
├── data/                             # Data directory (see data/README.md)
│   ├── combined_census_tract_data.csv
│   ├── extreme_events/
│   ├── holidays/
│   └── README.md                     # Data acquisition instructions
├── figures/                          # Generated figures
├── scripts/                          # Standalone analysis scripts (optional)
└── LICENSE
```

## Installation

### Requirements
- Python 3.8+
- Dependencies listed in `requirements.txt`

### Setup

1. Clone the repository:
```bash
git clone https://github.com/yourusername/heat_cold_asymmetry.git
cd heat_cold_asymmetry
```

2. Create a virtual environment (recommended):
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

4. Obtain the data:
   - See `data/README.md` for instructions on downloading required datasets
   - Place files in the appropriate `data/` subdirectories

## Usage

### Main Analysis

Open and run the Jupyter notebook to reproduce all figures and analysis:

```bash
jupyter notebook figures.ipynb
```

The notebook contains:
- Data loading and preprocessing
- Distributed lag non-linear modeling (DLNM)
- Spatial analysis and visualization
- Sensitivity analyses

### Helper Functions

Core analysis functions are available in `helper_functions.py`:

```python
from helper_functions import [function_name]
```

Key functions include:
- Temperature-event classification
- Matched sampling for causal inference
- Statistical modeling utilities
- Visualization helpers

## Data

All data files are too large to host on GitHub. See `data/README.md` for:
- Data source information
- Download instructions
- File descriptions and schemas
- Data preprocessing details

## Reproducibility

This analysis uses:
- **Time-series methods**: STL decomposition, ridge regression
- **Spatial analysis**: Spatial autocorrelation, geographic weighting
- **Statistical modeling**: Distributed lag non-linear models
- **Causal inference**: Matched sampling design

Key results are generated by running `figures.ipynb` end-to-end. All random seeds are fixed for reproducibility.

### Computing Requirements
- Recommended: 16+ GB RAM for full analysis
- Processing time: ~2 hours on standard machine


## Citation

If you use this code or analysis in your research, please cite:

```bibtex
@article{tandon2025asymmetric,
  title={Asymmetric Impacts of Extreme Weather: Cold Events Disrupt More Than Heat},
  author={Tandon, Raghav and Fard, Pedram and Bendavid, Eran and Jena, Anupam and Estiri, Hossein and Patel, Chirag},
  journal={Available at SSRN 5436620},
  year={2025}
}
```

## Contact

For questions about the code or analysis:
- [Raghav Tandon] - ["firstname _ lastname @ hms dot harvard dot edu"]
- Harvard Medical School

## License

This project is licensed under the [Choose: MIT/GPL/Apache 2.0] License - see LICENSE file for details.


---

**Note**: This repository contains analysis code and figures. Raw data files are hosted separately (see `data/README.md`) to maintain git efficiency and ensure reproducibility.